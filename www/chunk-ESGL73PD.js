import{a as H}from"./chunk-ZC6KFOI7.js";import{A as I,B as U,C as F,D as M,E as S,F as V,J as L,L as T,M as D,a as p,b as m,c as s,d as C,e as v,f as y,g as d,h as c,i as r,k as f,l as g,m as b,n as a,o as x,p as E,q as P,z as k}from"./chunk-T3I4ZSAX.js";import"./chunk-6RJSPA6R.js";import"./chunk-XI4OCCRX.js";import"./chunk-SVTCQFE6.js";import"./chunk-NIXSHOOC.js";import"./chunk-45GAR437.js";import"./chunk-GFAQE7C7.js";import"./chunk-4U6PRYVA.js";import"./chunk-54NTICX4.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{f as u}from"./chunk-RW4GY4BD.js";function G(e){e.CapacitorUtils.Synapse=new Proxy({},{get(o,n){return new Proxy({},{get(i,t){return(l,A,_)=>{let w=e.Capacitor.Plugins[n];if(w===void 0){_(new Error(`Capacitor plugin ${n} not found`));return}if(typeof w[t]!="function"){_(new Error(`Method ${t} not found in Capacitor plugin ${n}`));return}u(null,null,function*(){try{let h=yield w[t](l);A(h)}catch(h){_(h)}})}}})}})}function q(e){e.CapacitorUtils.Synapse=new Proxy({},{get(o,n){return e.cordova.plugins[n]}})}function O(e=!1){window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!e?G(window):window.cordova!==void 0&&q(window)}var $=H("Geolocation",{web:()=>import("./chunk-LWHSAJ4W.js").then(e=>new e.GeolocationWeb)});O();function z(e,o){if(e&1){let n=f();c(0,"div")(1,"ion-button",3),g("click",function(){p(n);let t=b();return m(t.enableLocation())}),a(2," Habilitar Ubicaci\xF3n "),r()()}}function j(e,o){if(e&1){let n=f();c(0,"div")(1,"ion-button",4),g("click",function(){p(n);let t=b();return m(t.disableLocation())}),a(2," Deshabilitar Ubicaci\xF3n "),r()()}}function B(e,o){if(e&1){let n=f();c(0,"div")(1,"ion-button",5),g("click",function(){p(n);let t=b();return m(t.abrirEnGoogleMaps())}),a(2," Click Aqu\xED Para Conocer tu Ubicaci\xF3n "),r(),c(3,"ion-button",6),g("click",function(){p(n);let t=b();return m(t.subirUbicacionAFirebase())}),a(4," Subir Su Ubicaci\xF3n a Firebase "),r()()}}var ot=(()=>{let o=class o{constructor(i){this.firestore=i,this.latitude=null,this.longitude=null,this.locationEnabled=!1}getCurrentLocation(){return u(this,null,function*(){try{let i=yield $.getCurrentPosition({enableHighAccuracy:!0,timeout:5e3,maximumAge:0});this.latitude=i.coords.latitude,this.longitude=i.coords.longitude,console.log("Latitude:",this.latitude),console.log("Longitude:",this.longitude)}catch(i){console.error("Error getting location",i)}})}enableLocation(){return u(this,null,function*(){this.locationEnabled=!0,yield this.getCurrentLocation()})}disableLocation(){this.locationEnabled=!1,this.latitude=null,this.longitude=null}abrirEnGoogleMaps(){if(this.latitude!==null&&this.longitude!==null){let i=`https://www.google.com/maps?q=${this.latitude},${this.longitude}`;window.open(i,"_blank")}else alert("Ubicaci\xF3n no disponible")}subirUbicacionAFirebase(){return u(this,null,function*(){if(this.latitude===null||this.longitude===null){alert("Primero debes obtener tu ubicaci\xF3n.");return}let i=`https://www.google.com/maps?q=${this.latitude},${this.longitude}`;try{let t=D(this.firestore,"ubicaciones");yield T(t,{latitud:this.latitude,lonngitud:this.longitude,url:i,Fecha:new Date,Ubicacion_De:"Isaac Quinapallo"}),alert("Ubicaci\xF3n subida correctamente a Firebase")}catch(t){console.error("Error al subir ubicaci\xF3n a Firebase:",t),alert("Error al subir ubicaci\xF3n")}})}};o.\u0275fac=function(t){return new(t||o)(C(L))},o.\u0275cmp=v({type:o,selectors:[["app-home"]],decls:18,vars:7,consts:[[3,"translucent"],[3,"fullscreen"],[4,"ngIf"],["expand","block",3,"click"],["expand","block","color","danger",3,"click"],["expand","block","color","primary",3,"click"],["expand","block","color","success",3,"click"]],template:function(t,l){t&1&&(c(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),a(3," Ubicaci\xF3n Actual "),r()()(),c(4,"ion-content",1)(5,"ion-card")(6,"ion-card-content")(7,"p")(8,"strong"),a(9,"Latitud:"),r(),a(10),r(),c(11,"p")(12,"strong"),a(13,"Longitud:"),r(),a(14),r()()(),y(15,z,3,0,"div",2)(16,j,3,0,"div",2)(17,B,5,0,"div",2),r()),t&2&&(d("translucent",!0),s(4),d("fullscreen",!0),s(6),x(" ",l.latitude,""),s(4),x(" ",l.longitude,""),s(),d("ngIf",!l.locationEnabled),s(),d("ngIf",l.locationEnabled),s(),d("ngIf",l.locationEnabled))},dependencies:[P,E,M,V,S,F,I,U,k],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]});let e=o;return e})();export{ot as HomePage};
